> test_pa-2-3
cd nemu && make
------make------
1698889020420
Thu Nov 2 09:37:00 CST 2023
make-[1]: Entering directory '/home/pa221220132/pa_nju/nemu'
gcc -ggdb3 -MMD -MP -Wall -Werror -O2 -I./include -I../include -I../libs -I../libs/nemu-ref/include   -c -o src/monitor/expr.o src/monitor/expr.c
gcc -o nemu src/main.o src/monitor/ui.o src/monitor/elf.o src/monitor/breakpoint.o src/monitor/expr.o src/parse_args.o src/cpu/fpu.o src/cpu/test/alu_test.o src/cpu/test/fpu_test.o src/cpu/reg.o src/cpu/intr.o src/cpu/alu.o src/cpu/cpu.o src/cpu/decode/opcode_ref.o src/cpu/decode/operand.o src/cpu/decode/opcode.o src/cpu/decode/debug.o src/cpu/decode/sib.o src/cpu/decode/modrm.o src/cpu/instr/xor.o src/cpu/instr/group.o src/cpu/instr/leave.o src/cpu/instr/jcc.o src/cpu/instr/lea.o src/cpu/instr/push.o src/cpu/instr/lgdt.o src/cpu/instr/and.o src/cpu/instr/data_size.o src/cpu/instr/cli.o src/cpu/instr/out.o src/cpu/instr/opcode_2_byte.o src/cpu/instr/add.o src/cpu/instr/inv.o src/cpu/instr/bt.o src/cpu/instr/rep_repe.o src/cpu/instr/ret.o src/cpu/instr/sti.o src/cpu/instr/call.o src/cpu/instr/setcc.o src/cpu/instr/shr.o src/cpu/instr/cltd.o src/cpu/instr/idiv.o src/cpu/instr/int_.o src/cpu/instr/or.o src/cpu/instr/cmov.o src/cpu/instr/test.o src/cpu/instr/jmp.o src/cpu/instr/in.o src/cpu/instr/adc.o src/cpu/instr/dec.o src/cpu/instr/div.o src/cpu/instr/stos.o src/cpu/instr/lidt.o src/cpu/instr/inc.o src/cpu/instr/movs.o src/cpu/instr/not.o src/cpu/instr/nemu_trap.o src/cpu/instr/flags.o src/cpu/instr/sbb.o src/cpu/instr/mov.o src/cpu/instr/sar.o src/cpu/instr/x87.o src/cpu/instr/cmps.o src/cpu/instr/sub.o src/cpu/instr/nop.o src/cpu/instr/cmp.o src/cpu/instr/cbw.o src/cpu/instr/hlt.o src/cpu/instr/imul.o src/cpu/instr/mul.o src/cpu/instr/neg.o src/cpu/instr/iret.o src/cpu/instr/pop.o src/cpu/instr/shl.o src/device/dev/ide.o src/device/dev/audio.o src/device/dev/serial.o src/device/dev/vga.o src/device/dev/audio-web.o src/device/dev/vga-palette.o src/device/dev/timer.o src/device/dev/keyboard.o src/device/sdl.o src/device/i8259_pic.o src/device/io/mm_io.o src/device/io/port_io.o src/memory/memory.o src/memory/mmu/tlb.o src/memory/mmu/segment.o src/memory/mmu/page.o src/memory/mmu/cache.o ../libs/nemu-ref/lib-nemu-ref.a -lreadline -lSDL
make-[1]: Leaving directory '/home/pa221220132/pa_nju/nemu'
cd testcase && make
------make------
1698889020819
Thu Nov 2 09:37:00 CST 2023
make-[1]: Entering directory '/home/pa221220132/pa_nju/testcase'
gcc -ggdb3 -MMD -MP -Wall -m32 -march=i386 -fno-pic -fno-builtin -fno-stack-protector -I../include -I../libs/newlib/include -c -o src/start.o start.S	
make-[1]: Leaving directory '/home/pa221220132/pa_nju/testcase'
cd kernel && make
------make------
1698889020860
Thu Nov 2 09:37:00 CST 2023
make-[1]: Entering directory '/home/pa221220132/pa_nju/kernel'
make-[1]: 'kernel' is up to date.
make-[1]: Leaving directory '/home/pa221220132/pa_nju/kernel'
echo "\e[0;31mTest expressions yourself\e[0m"
[0;31mTest expressions yourself[0m
./nemu/nemu --testcase add --kernel
NEMU load and execute img: [1m[32m./kernel/kernel.img[0m  elf: [1m[36m./testcase/bin/add[0m
(nemu) p 2
match regex[9] at position 1 with len 1: 2   type is 259
The num of nr_token is 1
2
(nemu) p 7+7*8*65 -3/4
match regex[9] at position 1 with len 1: 7   type is 259
match regex[3] at position 2 with len 1: +   type is 43
match regex[9] at position 3 with len 1: 7   type is 259
match regex[5] at position 4 with len 1: *   type is 42
match regex[9] at position 5 with len 1: 8   type is 259
match regex[5] at position 6 with len 1: *   type is 42
match regex[9] at position 7 with len 1: 6   type is 259
match regex[4] at position 8 with len 1: -   type is 45
match regex[9] at position 9 with len 1: 3   type is 259
match regex[6] at position 10 with len 1: /   type is 47
match regex[9] at position 11 with len 1: 4   type is 259
The num of nr_token is 11
343
(nemu) p   x 10 0
match regex[9] at position 1 with len 1: 0   type is 259
The num of nr_token is 1
The content of address 0x00000000 is 0x7f454c46
The content of address 0x00000004 is 0x01010100
The content of address 0x00000008 is 0x00000000
The content of address 0x0000000c is 0x00000000
The content of address 0x00000010 is 0x02000300
The content of address 0x00000014 is 0x01000000
The content of address 0x00000018 is 0x00900408
The content of address 0x0000001c is 0x34000000
The content of address 0x00000020 is 0xa0640000
The content of address 0x00000024 is 0x00000000
(nemu) p *0
match regex[5] at position 1 with len 1: *   type is 42
match regex[9] at position 2 with len 1: 0   type is 259
The num of nr_token is 2
1179403647
(nemu) p 0x7f454c46
match regex[8] at position 10 with len 10: 0x7f454c46   type is 262
The num of nr_token is 1
2135247942
(nemu) p * 0x   0x00000000
match regex[5] at position 1 with len 1: *   type is 42
match regex[8] at position 11 with len 10: 0x00000000   type is 262
The num of nr_token is 2
1179403647
(nemu) 